(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();let h;function O(){if(h!==void 0)return h;const e=document.createElement("div");return Object.assign(e.style,{position:"absolute",inset:"-200px",width:"100px",height:"100px",overflow:"scroll"}),document.body.appendChild(e),h=e.offsetWidth-e.clientWidth,document.body.removeChild(e),h}let q=!1;function P(){q||(document.documentElement.style.setProperty("--scrollbar-width",`${O()}px`),q=!0)}function T(){P(),document.documentElement.classList.add("modal-open")}function A(){document.documentElement.classList.remove("modal-open")}const B=window.matchMedia("(prefers-reduced-motion: reduce)");function d(){return B.matches}const M=document.querySelectorAll("button:has(> .photo)");M.forEach(e=>{const t=e.querySelector("img");e.addEventListener("click",()=>{D(t)})});function N(e){const t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}async function C(e){const t=e.closest("figure"),r=t==null?void 0:t.querySelector("figcaption"),i=`
    <dialog class="lightbox">
      <img class="lightbox__photo photo" src="${e.currentSrc}"
      height="${e.getAttribute("height")}"
      width="${e.getAttribute("width")}"
      alt="${e.alt}">
      <p class="lightbox__text opacity-0">${(r==null?void 0:r.textContent)||""}</p>
    </dialog>`,o=N(i),n=o.querySelector(".lightbox__photo");return new Promise(s=>{n.addEventListener("load",()=>{s(o)}),n.addEventListener("error",a=>{throw new Error("img not loaded. Skipping "+e.currentSrc)})})}async function D(e){T();const t=await C(e),r=t.querySelector(".lightbox__photo"),i=t.querySelector(".lightbox__text");t.addEventListener("click",c=>{c.target.nodeName!=="P"&&(c.preventDefault(),m())}),W(t,m),t.addEventListener("cancel",c=>{c.preventDefault(),m()}),t.addEventListener("keydown",c=>{c.key===" "&&(c.preventDefault(),m())}),document.body.appendChild(t),t.showModal(),setTimeout(()=>t.classList.add("is-open"));const o=e.parentNode;o.style.visibility="hidden";const n=e.getBoundingClientRect(),s=r.getBoundingClientRect(),a=n.height/s.height,l=n.width/s.width,S=n.y-s.y,v=n.x-s.x,u={easing:"ease",duration:400},I=`translateY(${S}px) translateX(${v}px) scale(${l}, ${a})`,_="translate(0, 0) scale(1) ";let f;d()||(f=r.animate({transform:[I,_]},u)),i.classList.remove("opacity-0");async function m(){var c;f==null||f.cancel(),i.classList.add("opacity-0"),r.style.borderWidth=`${10/a}px`,t.classList.remove("is-open"),d()||await r.animate({transform:[_,I]},u).finished,o.style.visibility="",t.close(),(c=t.parentElement)==null||c.removeChild(t),A()}}function W(e,t){let i=0,o=0;e.addEventListener("touchstart",n=>{i=n.touches[0].clientY,o=i}),e.addEventListener("touchmove",n=>{o=n.touches[0].clientY}),e.addEventListener("touchend",n=>{const s=o-i;Math.abs(s)>50&&(n.preventDefault(),t()),i=0,o=0})}const H="data:image/svg+xml,%3csvg%20fill='none'%20height='16'%20viewBox='0%200%2016%2016'%20width='16'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m3%2014v-12l11%206z'%20fill='%23fff'/%3e%3c/svg%3e",R="data:image/svg+xml,%3csvg%20fill='none'%20height='16'%20viewBox='0%200%2016%2016'%20width='16'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20fill='%23fff'%3e%3cpath%20d='m3%202h3v12h-3z'/%3e%3cpath%20d='m9%202h3v12h-3z'/%3e%3c/g%3e%3c/svg%3e",X="data:image/svg+xml,%3csvg%20fill='none'%20height='16'%20viewBox='0%200%2016%2016'%20width='16'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20fill='%23fff'%3e%3cpath%20d='m7%2013v-10l-5%205z'/%3e%3cpath%20d='m14%2013v-10l-5%205z'/%3e%3c/g%3e%3c/svg%3e",Y=document.querySelectorAll(".vidplayer");function y(e){const t=document.createElement("img");return t.src=e,t}function b(e,t,r){e.innerHTML="",e.textContent=t,e.appendChild(r)}Y.forEach(e=>{const t=e.querySelector(".vidplayer__video"),r=e.querySelector(".vidplayer__button"),i=e.querySelector(".vidplayer__overlay");function o(){i&&(i.style.display="none"),b(r,"Pause ",y(R))}function n(){b(r,"Play ",y(H))}function s(){b(r,"Replay ",y(X))}function a(){t.paused?t.play():t.pause()}r.addEventListener("click",a),t.addEventListener("click",l=>{l.preventDefault(),a()}),t.addEventListener("play",o),t.addEventListener("pause",n),t.addEventListener("ended",s),n()});const E=document.getElementById("hamburger"),$=document.getElementById("sidebar"),L=document.getElementById("navunderlay");function x(){return document.body.classList.contains("nav-open")}function z(){x()?g():F()}const p={easing:"ease",duration:200};function F(){x()||(document.body.classList.add("nav-open"),E.setAttribute("aria-expanded",String(!0)),!d()&&($.animate({transform:["translateX(-100%)","translateX(0)"]},p),L.animate({opacity:["0","1"]},p)))}async function g(){if(x()){if(!d()){const e=$.animate({transform:["translateX(0)","translateX(-100%)"]},p);L.animate({opacity:["1","0"]},p),await e.finished}document.body.classList.remove("nav-open"),E.setAttribute("aria-expanded",String(!1))}}E.addEventListener("click",z);document.body.addEventListener("keydown",e=>{e.key==="Escape"&&g()});L.addEventListener("click",g);const w=document.getElementById("navmenu");function k(e){if(e){if(e.nodeName!=="A"){const t=e.parentElement,r=t==null?void 0:t.id;e=document.querySelector(`[data-to="${r}"]`)}w.querySelectorAll(".is-selected").forEach(t=>t.classList.remove("is-selected")),e.classList.add("is-selected"),"scrollIntoViewIfNeeded"in e&&e.scrollIntoViewIfNeeded()}}function j(){const e=[];document.querySelectorAll("main section[id]").forEach(t=>{const r=t.id,i=t.querySelector("h1,h2,h3,h4");if(!i)return;const o=i.dataset.alt||i.textContent,n=["navmenu__entry"];(i.nodeName==="H2"||i.nodeName==="H1")&&n.push("navmenu__entry--group"),e.push(`<li><a class="${n.join(" ")}" data-to="${r}" href="#${r}">
        <span>${o}</span>
        </a></li>`)}),w.innerHTML=e.join(""),w.addEventListener("click",t=>{const r=t.target;if(r.nodeName!=="A")return;t.preventDefault();const i=r.dataset.to==="me"?"center":"start",o=document.getElementById(r.dataset.to);o==null||o.scrollIntoView({behavior:d()?"auto":"smooth",block:i}),g()})}function U(){function e(n,s){n.forEach(a=>{if(a.isIntersecting){const v=a.target.parentElement.id,u=document.querySelector(`[data-to="${v}"]`);k(u)}})}const t=new IntersectionObserver(e,{root:null,rootMargin:"0px 0px -80% 0px",threshold:0}),i=Array.from(document.querySelectorAll("section[id]")).map(n=>n.querySelector("h1,h2,h3")),o=document.documentElement.scrollTop;for(const n of i.reverse())if(n.offsetTop<o){k(n);break}i.forEach(n=>{t.observe(n)})}j();U();function V(e){const t=e.dataset.compare;if(!t)return;const r=document.getElementById(t);if(!r)return;function i(){r.classList.toggle("compare--checked",e.checked)}i(),e.addEventListener("click",i);function o(){e.checked=!e.checked,i()}r.addEventListener("click",o)}document.querySelectorAll(".toggle__checkbox").forEach(V);function K(){const e=document.querySelector("footer");if(!e){console.warn("Footer element not found.");return}new IntersectionObserver(r=>{const i=r[0];e.classList.toggle("is-end",i.isIntersecting)},{threshold:.99}).observe(e)}K();
