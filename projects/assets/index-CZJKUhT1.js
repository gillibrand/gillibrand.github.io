(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();let h;function $(){if(h!==void 0)return h;const e=document.createElement("div");return Object.assign(e.style,{position:"absolute",inset:"-200px",width:"100px",height:"100px",overflow:"scroll"}),document.body.appendChild(e),h=e.offsetWidth-e.clientWidth,document.body.removeChild(e),h}let _=!1;function M(){_||(document.documentElement.style.setProperty("--scrollbar-width",`${$()}px`),_=!0)}function T(){M(),document.documentElement.classList.add("modal-open")}function N(){document.documentElement.classList.remove("modal-open")}const A=window.matchMedia("(prefers-reduced-motion: reduce)");function d(){return A.matches}const B=document.querySelectorAll(".photo");B.forEach(e=>{e.addEventListener("click",()=>{D(e)})});function C(e){const t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}async function W(e){const t=e.closest("figure"),s=t==null?void 0:t.querySelector("figcaption"),r=`
    <dialog class="lightbox">
      <img class="lightbox__photo photo" src="${e.currentSrc}" >
      <p class="lightbox__text opacity-0">${(s==null?void 0:s.textContent)||""}</p>
    </dialog>`,n=C(r),o=n.querySelector(".lightbox__photo");return new Promise(c=>{o.addEventListener("load",()=>{c(n)}),o.addEventListener("error",i=>{throw new Error("img not loaded. Skipping "+e.currentSrc)})})}async function D(e){T();const t=await W(e),s=t.querySelector(".lightbox__photo"),r=t.querySelector(".lightbox__text");t.addEventListener("click",a=>{a.target.nodeName!=="P"&&(a.preventDefault(),y())}),H(t,y),t.addEventListener("cancel",a=>{a.preventDefault(),y()}),document.body.appendChild(t),t.showModal(),setTimeout(()=>t.classList.add("is-open")),e.style.visibility="hidden";const n=e.getBoundingClientRect(),o=s.getBoundingClientRect(),c=n.height/o.height,i=n.width/o.width,l=n.y-o.y,S=n.x-o.x,u={easing:"ease",duration:400},m=`translateY(${l}px) translateX(${S}px) scale(${i}, ${c})`,I="translate(0, 0) scale(1) ";let f;d()||(f=s.animate({transform:[m,I]},u)),r.classList.remove("opacity-0");async function y(){var a;f==null||f.cancel(),r.classList.add("opacity-0"),s.style.borderWidth=`${10/c}px`,t.classList.remove("is-open"),d()||await s.animate({transform:[I,m]},u).finished,e.style.visibility="",t.close(),(a=t.parentElement)==null||a.removeChild(t),N()}}function H(e,t){let r=0,n=0;e.addEventListener("touchstart",o=>{r=o.touches[0].clientY,n=r}),e.addEventListener("touchmove",o=>{n=o.touches[0].clientY}),e.addEventListener("touchend",o=>{const c=n-r;Math.abs(c)>50&&(o.preventDefault(),t()),r=0,n=0})}const q="data:image/svg+xml,%3csvg%20fill='none'%20height='16'%20viewBox='0%200%2016%2016'%20width='16'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m3%2014v-12l11%206z'%20fill='%23fff'/%3e%3c/svg%3e",X="data:image/svg+xml,%3csvg%20fill='none'%20height='16'%20viewBox='0%200%2016%2016'%20width='16'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20fill='%23fff'%3e%3cpath%20d='m3%202h3v12h-3z'/%3e%3cpath%20d='m9%202h3v12h-3z'/%3e%3c/g%3e%3c/svg%3e",Y=document.querySelectorAll(".vidplayer");function v(e){const t=document.createElement("img");return t.src=e,t}function b(e,t,s){e.innerHTML="",e.textContent=t,e.appendChild(s)}Y.forEach(e=>{const t=e.querySelector(".vidplayer__video"),s=e.querySelector(".vidplayer__button"),r=e.querySelector(".vidplayer__overlay");function n(){r&&(r.style.display="none"),b(s,"Pause ",v(X))}function o(){b(s,"Play ",v(q))}function c(){b(s,"Play ",v(q))}function i(){t.paused?t.play():t.pause()}s.addEventListener("click",i),t.addEventListener("click",l=>{l.preventDefault(),i()}),t.addEventListener("play",n),t.addEventListener("pause",o),t.addEventListener("ended",c),o()});const L=document.getElementById("hamburger"),P=document.getElementById("sidebar"),w=document.getElementById("navunderlay");function x(){return document.body.classList.contains("nav-open")}function R(){x()?g():j()}const p={easing:"ease",duration:200};function j(){x()||(document.body.classList.add("nav-open"),L.setAttribute("aria-expanded",String(!0)),!d()&&(P.animate({transform:["translateX(-100%)","translateX(0)"]},p),w.animate({opacity:["0","1"]},p)))}async function g(){if(x()){if(!d()){const e=P.animate({transform:["translateX(0)","translateX(-100%)"]},p);w.animate({opacity:["1","0"]},p),await e.finished}document.body.classList.remove("nav-open"),L.setAttribute("aria-expanded",String(!1))}}L.addEventListener("click",R);document.body.addEventListener("keydown",e=>{e.key==="Escape"&&g()});w.addEventListener("click",g);const E=document.getElementById("navmenu");function k(e){if(e){if(e.nodeName!=="A"){const t=e.parentElement,s=t==null?void 0:t.id;e=document.querySelector(`[data-to="${s}"]`)}E.querySelectorAll(".is-selected").forEach(t=>t.classList.remove("is-selected")),e.classList.add("is-selected"),"scrollIntoViewIfNeeded"in e&&e.scrollIntoViewIfNeeded()}}function z(){const e=[];document.querySelectorAll("main section[id]").forEach(t=>{const s=t.id,r=t.querySelector("h1,h2,h3,h4");if(!r)return;const n=r.dataset.alt||r.textContent,o=["navmenu__entry"];(r.nodeName==="H2"||r.nodeName==="H1")&&o.push("navmenu__entry--group"),e.push(`<li><a class="${o.join(" ")}" data-to="${s}" href="#${s}">
        <span>${n}</span>
        </a></li>`)}),E.innerHTML=e.join(""),E.addEventListener("click",t=>{const s=t.target;if(s.nodeName!=="A")return;t.preventDefault();const r=s.dataset.to==="me"?"center":"start",n=document.getElementById(s.dataset.to);n==null||n.scrollIntoView({behavior:d()?"auto":"smooth",block:r}),g()})}function V(){function e(o,c){o.forEach(i=>{if(i.isIntersecting){const u=i.target.parentElement.id,m=document.querySelector(`[data-to="${u}"]`);k(m)}})}const t=new IntersectionObserver(e,{root:null,rootMargin:"0px 0px -75% 0px",threshold:0}),r=Array.from(document.querySelectorAll("section[id]")).map(o=>o.querySelector("h1,h2,h3")),n=document.documentElement.scrollTop;for(const o of r.reverse())if(o.offsetTop<n){k(o);break}r.forEach(o=>{t.observe(o)})}z();V();const F=document.querySelectorAll(".toggle__checkbox");F.forEach(e=>{const t=e.dataset.compare;if(!t)return;const s=document.getElementById(t);if(!s)return;function r(){s.classList.toggle("compare--checked",e.checked)}r(),e.addEventListener("click",r);function n(){e.checked=!e.checked,r()}s.addEventListener("click",n)});const O=document.querySelector("footer"),U=new IntersectionObserver(e=>{const t=e[0];O.classList.toggle("is-end",t.isIntersecting)},{threshold:.99});U.observe(O);
